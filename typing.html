<!DOCTYPE html>
<html>
  <head>
    <script>
      const Q = ["apple","banana","melon","mango","strawberry","blueberry","orange"];
      const Q_j = ["りんご","バナナ","メロン","マンゴー","ストロベリー","ブルーベリー","オレンジ"]
      // 配列にある要素のうち一つを取り出す
      let Q_No = Math.floor(Math.random()* Q.length);

      let Q_i = 0;//解答初期値・現在単語はどこまであっているのか
      let Q_l = Q[Q_No].length;//取得した文字の長さ
      window.addEventListener("keydown",(event) =>{
        const KeyCode = event.key;
        if (Q_l == Q_l - Q_i){
          document.getElementById("japanese").innerHTML = Q_j[Q_No].substring(Q_i,Q_l);
          document.getElementById("start").innerHTML = Q[Q_No].substring(Q_i,Q_l);
        };
        if (Q[Q_No].charAt(Q_i) == KeyCode){ 
          Q_i++;
          document.getElementById("start").innerHTML = Q[Q_No].substring(Q_i,Q_l);
          if (Q_l - Q_i === 0){ //全問正解したら

            new Audio('ok.mp3').play();

            Q_No = Math.floor(Math.random() * Q.length);
            Q_i = 0;
            Q_l = Q[Q_No].length
            document.getElementById("japanese").innerHTML = Q_j[Q_No].substring(Q_i,Q_l)
            document.getElementById("start").innerHTML = Q[Q_No].substring(Q_i,Q_l);
          }else{
            new Audio('good.mp3').play();
          }
        };
      });
    </script>
  </head>
  <body>
    <center>
      <h1 id="japanese"></h1>
      <h1 id="start" class="text">何かキーを押してください</h1>
    </center>
  </body>
</html>